# Tech Age

techage.register_category_page("techage", "Tech Age",
	S("Tech Age is a technic mod with four technic stages.@n@n"..
		"Iron Age (TA1): Use tools like coal pile, coal burner, gravel sieve, hammer and hopper to obtain the necessary metals and ores to further machines and tools for TA2@n@n"..
		"Steam Age (TA2): Build a steam engine with drive axles to run first simple machines.@n@n"..
		"Oil Age (TA3): Drill and pump oil, build your transport routes with Minecarts and power and control TA3 machines and lamps with electrical energy.@n@n"..
		"Future Age (TA4): Build regenerative power plants and intelligent machines, travel at high speed and use other future technologies."),
	"techage:ta4_wlanchip", 
	{}
)



# TA1: Iron Age

local PileHelp = S("Coal Pile to produce charcoal:@n"..
	"- build a 5x5 block dirt base@n"..
	"- place a lighter in the centre@n"..
	"- build a 3x3x3 wood cube around@n"..
	"- cover all with dirt to a 5x5x5 cube@n"..
	"- keep a hole to the lighter@n"..
	"- ignite the lighter and immediately@n"..
	"- close the pile with one wood and one dirt@n"..
	"- open the pile after the smoke disappeared@n"..
	"(see plan)")

techage.register_entry_page("ta1", "coalpile", "Coal Pile", PileHelp, nil, PileImages)

local BurnerHelp = S("Coal Burner to heat the melting pot:@n"..
"- build cobble tower with a 3x3 footprint@n"..
"- more height means more flame heat@n"..
"- keep a hole open on one side@n"..
"- put a lighter in@n"..
"- fill the tower from the top with charcoal@n"..
"- ignite the lighter@n"..
"- place the pot in the flame, (one block above the tower)@n"..
"- to pause the burner, close the hole temporarily with e.g. dirt@n"..
"(see plan)")

techage.register_entry_page("ta1", "sieve",
	S("TA1 Gravel Sieve"), 
	S("To sieve Gravel and Basalt Gravel to get ores. Punch the sieve with wielded gravel to start sieving. "..
		"Sieving can be automated by means of the TA1 Hopper. Gravel can be found in caves or "..
		"generated by means of a TA1 Hammer."), 
	"techage:sieve3")





techage.register_entry_page("ta1", "hammer",
	"TA1 xxx Hammer", [[Hammer to smash stone to gravel.
Available as Bronze, Steel, Mese, and Diamond Hammer.]], "techage:hammer_bronze")



techage.register_entry_page("ta1", "hopper",
	S("TA1 Hopper"), 
	S("The Hopper collects dropped items and pushes them to the right side.@n".. 
		"Items are sucked up when they are dropped on top of the Hopper block.@n"..
		"But the Hopper can also pull items out of chests or furnace blocks, if it is placed below."), 
	"techage:hopper_ta1")



techage.register_entry_page("ta1", "lighter",
	S("TA1 Lighter"), 
	S("lighter to ignite the Coal Burner and the Coal Pile."), "techage:lighter")

techage.register_entry_page("ta1", "meltingpot",
	S("TA1 Melting Pot"), 
	S("To melt ores and/or produce alloys. Place the pot on top of the Coal Burner."), 
	"techage:meltingpot")

techage.register_entry_page("ta1", "meridium",
	S("Meridium Ingot"), 
	S("A brilliant alloy for tools, which are used in the dark. Can be made with Coal Burner and TA3 Industrial Furnace."), 
	"techage:meridium_ingot")

techage.register_entry_page("ta1", "iron",
	S("TA1 Iron Ingot"), 
	S("Steel replacement for TA1. Needed for many tools. Can be made with the Coal Burner from iron lumps."),
	"techage:iron_ingot")

techage.register_entry_page("ta2", "autocrafter",
	S("TA2 Autocrafter"), 
	S("The Autocrafter allows the automated crafting of items based on configured recipes.@n"..
		"It can craft one item every two seconds.@n"..
		"Needs axle power: 4"),
	"techage:ta2_autocrafter_pas")

techage.register_entry_page("ta3m", "autocrafter",
	S("TA3 Autocrafter"), 
	S("The Autocrafter allows the automated crafting of items based on configured recipes.@n"..
		"It can craft two items every two seconds.@n"..
		"Needs electrical power: 6"),
	"techage:ta3_autocrafter_pas")

techage.register_entry_page("ta", "blackhole",
	S("Techage Black Hole"), 
	S("The Techage Black Hole Block let items disappear. If your machine produces to much or unneeded items, push them into the Black Hole."), 
	"techage:blackhole")

local help = S("The Protected Chest is useful in protected areas (by means of any protection mod).@n"..
	"Only players with interaction rights on that position can take/put item from/to the chest.@n"..
	"The Chest supports commands to read the last player action (player-name, take/put, item-name) "..
	"and the chest state ('empty', 'loaded', 'full').@n"..
	"The chest returns 'loaded' when it is not empty and not full, "..
	"'full' is returned, when no empty stack is available.@n")

techage.register_entry_page("ta2", "chest",
	S("TA2 Protected Chest"), 
	S("The Protected Chest is useful in protected areas (by means of any protection mod).@n"..
	"Only players with interaction rights on that position can take/put item from/to the chest."), 
	"techage:chest_ta2")

techage.register_entry_page("ta3m", "chest",
	S("TA3 Protected Chest"), help, "techage:chest_ta3")

local help = S("The Distributor works as filter and pusher. It allows to divide and distribute incoming items into the 4 output ports. "..
	"The channels can be switched on/off and individually configured with up to 6 item types. "..
	"The filter passes the configured items and restrains all others. "..
	"Unconfigured but activated filters are used for items, which do not fit to all other filters. "..
	"If the Distributor canâ€™t push an item into a block with an inventory (such as a chest) because that inventory is full, "..
	"but there is one open and unconfigured output, it will use this output port.")

techage.register_entry_page("ta2", "distributor",
	S("TA2 Distributor"), 
	help..S("@nThe Distributor tries to push 4 items every 2 seconds."),
	"techage:ta2_distributor_pas")

techage.register_entry_page("ta3m", "distributor",
	S("TA3 Distributor"), 
	help..S("@nThe Distributor tries to push 12 items every 2 seconds."),
	"techage:ta3_distributor_pas")

techage.register_entry_page("ta2", "electronic_fab",
	S("TA2 Electronic Fab"), 
	S("Used to produce Vacuum Pipes, needed for TA3 machines.@n"..
		"The fab produces 1 item every 6 seconds.@n"..
		"It needs 8 units axle power"), 
	"techage:ta2_electronic_fab_pas")



techage.register_entry_page("ta3m", "electronic_fab",
	S("TA3 Electronic Fab"), 
	S("Used to produce WLAN Chips, needed for TA4 machines.@n".. 
		"The fab produces 1 item every 6 seconds.@n"..
		"It needs 12 units electrical power."),
	"techage:ta3_electronic_fab_pas")

techage.register_entry_page("ta", "forceload",
	S("Techage Forceload Block"), 
	S("The Forceload Block keeps the corresponding area loaded and the machines operational "..
		"as far as the player is logged in. If the player leaves the game, all areas will be unloaded.@n"..
		"The maximum number of Forceload Blocks per player is configurable (default 20).@n"..
		"The loaded area per block is a cube with 16 m side length (according to a Minetest area block). "..
		"Punching the block makes the area visible and invisible again."),
	"techage:forceload")

techage.register_entry_page("ta3m", "funnel",
	S("TA3 Funnel"), 
	S("The Funnel collects dropped items and stores them in its inventory.@n"..
		"Items are sucked up when they are dropped on top of the funnel block.@n"..
		"The scan radius is 1 m."), 
	"techage:ta3_funnel")

local Tube = "techage_tube_knee.png"
local Tube2 = "techage_tube_knee.png^[transformR270"
local Rinser = "techage_filling_ta2.png^techage_appl_rinser.png^techage_frame_ta2.png"
local Hopper = "techage_hopper.png"
local Glass = "default_glass.png"
local Water = "default_water.png"
local Chest = "default_chest_lock.png"
local Dirt = "default_dirt.png"

local Images = {
	{false, false, false, false, false, false, false, false},
	{false, Glass, false, false, false, false, Water, Glass},
	{false, Chest, Hopper, Tube, Rinser, Tube2, Glass, Glass},
}

techage.register_entry_page("ta2", "rinser",
	S("TA2 Gravel Rinser"), 
	S("Used to wash Sieved Gravel to get Usmium Nuggets. The block has to be placed under flowing water. "..
		"The washed-out nuggets must be sucked in with a Hopper.@nFor the plant you need a chest, "..
		"the Hopper, the Rinser with tube support and a frame around the flowing water (see plan).@n"..
		"Hint: You can test the Rinser with some sticks that are washed out immediately.@n"..
		"It needs 3 units axle power"), 
	nil, Images)


techage.register_entry_page("ta2", "gravelsieve",
	S("TA2 Gravel Sieve"), 
	S("To sieve Gravel and Basalt Gravel to get ores. Use a Grinder to make Gravel from Cobblestone.@n"..
		"It can sieve one item every four seconds.@n"..
		"It needs 3 units axle power."), 
	"techage:ta2_gravelsieve_pas")

techage.register_entry_page("ta3m", "gravelsieve",
	S("TA3 Gravel Sieve"), 
	S("To sieve Gravel and Basalt Gravel to get ores. Use a Grinder to make Gravel from Cobblestone.@n"..
		"It can sieve two items every four seconds.@n"..
		"It needs 4 units electrical power."), 
	"techage:ta3_gravelsieve_pas")

techage.register_entry_page("ta2", "grinder",
	S("TA2 Grinder"), 
	S("The Grinder grinds all kinds of cobblestone to gravel, gravel to sand, sand to clay, wood to leaves, and more.@n"..
		"It can grind one item every four seconds.@n"..
		"It needs 4 units axle power."), 
	"techage:ta2_grinder_pas")

techage.register_entry_page("ta3m", "grinder",
	S("TA3 Grinder"), 
	S("The Grinder grinds all kinds of cobblestone to gravel, gravel to sand, sand to clay, wood to leaves, and more.@n"..
		"It can grind two items every four seconds.@n"..
		"It needs 6 units electrical power."), 
	"techage:ta3_grinder_pas")

techage.register_entry_page("ta2", "liquidsampler",
	S("TA2 Liquid Sampler"), 
	S("The Liquid Sampler is used to collect water or other bucket registered liquids.@n"..
		"The Liquid Sampler has to be placed into water/liquids and need empty buckets@n"..
		"to operate. The Liquid Sampler takes 1 bucket water every 8 seconds.@n"..
		"It needs 3 units axle power, supplied from the top."), 
	"techage:ta2_liquidsampler_pas")

techage.register_entry_page("ta3m", "liquidsampler",
	S("TA3 Liquid Sampler"), 
	S("The Liquid Sampler is used to collect water or other bucket registered liquids.@n"..
		"The Liquid Sampler has to be placed into water/liquids and need empty buckets@n"..
		"to operate. The Liquid Sampler takes 2 buckets water every 8 seconds.@n"..
		"It needs 5 units electrical power, supplied from the top."), 
	"techage:ta3_liquidsampler_pas")

techage.register_entry_page("ta2", "pusher",
	S("TA2 Pusher"), 
	S("The Pusher is a pulling/pushing block, moving items from one inventory block to another (e.g. chests). "..
	"Start the Pusher with a right-click. It shows the state 'running' as infotext. "..
	"The Pusher moves items from left to right (IN to OUT).@n"..
	"If the source chest is empty, the Pusher goes into 'standby' state for some seconds. If the destination "..
	"chest is full, the Pusher goes into 'blocked' state.@n"..
	"The TA2 Pusher moves two items every 2 seconds."),
	"techage:ta2_pusher_pas")

techage.register_entry_page("ta3m", "pusher",
	S("TA3 Pusher"), 
	S("The Pusher is a pulling/pushing block, moving items from one inventory block to another (e.g. chests). "..
	"Start the Pusher with a right-click. It shows the state 'running' as infotext. "..
	"The Pusher moves items from left to right (IN to OUT).@n"..
	"If the source chest is empty, the Pusher goes into 'standby' state for some seconds. If the destination "..
	"chest is full, the Pusher goes into 'blocked' state.@n"..
	"The TA3 Pusher moves 6 items every 2 seconds."),
	"techage:ta3_pusher_pas")

techage.register_entry_page("ta3ps", "akku",
	S("TA3 Akku Box"), 
	S("Used to store electrical energy. Charged in about 10 min, provides energy for 10 min.@n"..
		"It take and deliver up to 10 units electrical power."), 
	"techage:ta3_akku")

techage.register_entry_page("ta3ps", "coalboiler_base",
	S("TA3 Boiler Base"), 
	S("Part of the Power Station. Has to be placed on top of the TA3 Power Station Firebox and filled with water.@n"..
		"(see TA3 Power Station)"), 
	"techage:coalboiler_base")

techage.register_entry_page("ta3ps", "coalboiler_top",
	S("TA3 Boiler Top"), 
	S("Part of the Power Station. Has to be placed on top of TA3 Power Station Boiler Base.@n"..
		"(see TA3 Power Station)"), 
	"techage:coalboiler_top")

techage.register_entry_page("ta3ps", "cooler",
	S("TA3 Cooler"), 
	S("Part of the Power Station. Has to be placed in the steam circulation after the Turbine.@n"..
	"(see TA3 Power Station)"), 
	"techage:cooler")

techage.register_entry_page("ta3ps", "generator", 
	S("TA3 Generator"), 
	S("Part of the Power Station. Has to be placed side by side with the TA3 Turbine. "..
		"Connect the Generator with your TA3 machines by means of Electric Cables and Junction Boxes@n"..
		"(see TA3 Power Station)"), 
	"techage:generator")

techage.register_entry_page("ta3ps", "ta3_power_terminal",
	S("TA3 Power Terminal"), 
	S("Terminal for power network information. Has to be placed in front of an Electric Junction Box."), 
	"techage:ta3_power_terminal")

techage.register_entry_page("ta3ps", "turbine",
	S("TA3 Turbine"), 
	S("Part of the Power Station. Has to be placed side by side with the TA3 Generator.@n"..
		"(see TA3 Power Station)"), 
	"techage:turbine")


local S = techage.S

techage.register_category_page("ta3", 
	S("Oil Age (TA3)"),
	S("The Oil Age is the third level of the available technic stages. "..
		"The goal of TA3 is to build Power Stations, drill for oil, and build "..
		"machines to produce ores and chips for smart TA4 devices and machines."),
	"techage:oil_source", 
	{"power", "times"}
)

techage.register_entry_page("ta3", "power",
	S("Power Consumption"), 
	S("Power consumption and supply:@n"..
	"- TA3 Power Station: 80 ku@n"..
	"- TA3 Tiny Generator: 12 ku@n"..
	"- TA3 Akku Box: 10 ku (in both dirs)@n"..
	"- TA3 Oil Drill Box: 16 ku@n"..
	"- TA3 Oil Pumpjack: 16 ku@n"..
	"- TA3 Electronic Fab: 12 ku@n"..
	"- TA3 Autocrafter: 6 ku@n"..
	"- TA3 Grinder: 6 ku@n"..
	"- TA3 Gravel Sieve: 4 ku@n"..
	"- TA3 Booster: 3 ku@n"..
	"- Lamps: 0.5 ku@n"..
	"- TA4 Streetlamp Solar Cell: 1 ku@n"..
	"@n"..
	"- Signs Bot: 8 ku (while loading)"),
	"techage:t3_source", nil)

techage.register_entry_page("ta3", "times",
	S("Oil Burning Times"), 
	S("Burning times with one oil item for@n"..
	"Stream Engine  /  Power Station  /  Tiny Generator:@n"..
	"@n"..
	"Power max./ku  :     25 /  80  /  12@n"..
	"Oil burn time/s :     32 /  20  /  100 @n"..
	"@n"..
	"burn time at power   2  :    400  /  800  /   600@n"..
	"burn time at power 10  :      80  /  160  /   120@n"..
	"burn time at power 20  :      40  /    80  /      --"), 
"techage:t3_source", nil)

local Images = {
	{false, false, false, false, false, false, false},
	{"techage_steam_knee.png", 'techage_steam_pipe.png', 'techage_steam_pipe.png', 
		'techage_steam_pipe.png', 'techage_steam_pipe.png', 'techage_steam_pipe.png', "techage_steam_knee.png^[transformR270"},
	{'techage_steam_pipe.png^[transformR90', "techage:coalboiler_top", 'techage_steam_pipe.png', 
		'techage_steam_knee.png^[transformR270', 'techage_steam_knee.png', 
		"techage_filling_ta3.png^techage_frame_ta3.png^techage_cooler.png",
		"techage_steam_knee.png^[transformR180"},
	{"techage_steam_knee.png^[transformR90", "techage:coalboiler_base", false, 'techage_steam_pipe.png^[transformR90',
		'techage_steam_pipe.png^[transformR90'},
	{false, "techage:coalfirebox", false, "techage_steam_knee.png^[transformR90", 
		"techage_filling_ta3.png^techage_appl_turbine.png^techage_frame_ta3.png",
		"techage_filling_ta3.png^techage_frame_ta3.png^techage_appl_generator.png"},
}

--techage.register_entry_page("ta3", "power_station",
techage.register_category_page("ta3ps",
	S("TA3: Power Station"), 
	S("Build a Power Station according to the plan with TA3 Firebox, TA3 Boiler, Steam Pipes, Cooler, Turbine and Generator.@n"..
		"- Heat the Firebox with coal/charcoal or oil@n"..
		"- Fill the boiler with water (more than one bucket is needed)@n"..
		"- Wait until the water is heated@n"..
		"- Open the steam ventil@n"..
		"- Connect the Generator with your machines by means of cables and junction boxes@n"..
		"- Start the Generator"), 
	nil, 
	{"coalboiler_base", "coalboiler_top", "turbine", "generator", "cooler", "akku", "tiny_generator", "ta3_power_terminal"},
	Images)

techage.register_category_page("ta3op",
	S("TA3: Oil plants"), 
	S("In the TA3 age, oil (petroleum) serves as an almost infinite fuel. But oil is difficult "..
		"and expensive to recover:@n"..
		"1: Search for oil with the TA3 Oil Explorer@n"..
		"2: Drill for oil with the TA3 Oil Drill Box (oil derrick)@n"..
		"3: Recover the oil with the TA3 Oil Pumpjack@n"..
		"4: A power station nearby provides the necessary @n"..
		"	 electrical power for the derrick and pumpjack.@n"..
		"5: Tubes or rails are used for oil transportation."),
	"techage:oilexplorer",
	{"oilexplorer", "drillbox", "pumpjack"}
)

techage.register_category_page("ta3m", 
	S("TA3: Machines"),
	S("Collection of TA3 machines, some with eletrical power supply."),
	"techage:ta3_autocrafter_pas", 
	{"pusher", "distributor", "chest", "grinder", "gravelsieve", "autocrafter", "electronic_fab", 
		"funnel", "liquidsampler"}
)

techage.register_category_page("ta3l", 
	S("TA3: Logic"),
	S("Collection of TA3 logic blocks to control your machines."),
	"techage:terminal2", 
	{"terminal", "button", "detector", "repeater", "logic", "node_detector", "player_detector", "cart_detector", "programmer"}
).

techage.register_category_page("ta4", 
	S("Future Age (TA4)"),
	S("The Future Age is the forth level of the available technic stages.@n"..
		"The goal of TA4 is to operate your machines only with renewable energy.@n"..
		"Build wind turbines, solar panel plants and biogas plants and use@n"..
		"future technologies."),
	"techage:ta4_wlanchip", 
	{}
)


local ROTOR = "techage_wind_turbine_inv.png"
local CANELLE = "techage_rotor.png"
local PILLAR = "techage:pillar"

local Images = {
	{false, false, false, ROTOR, CANELLE, false, false},
	{false, false, false, PILLAR, false,  false, false},
	{false, false, false, PILLAR, false,  false, false},
	{false, false, false, PILLAR, false,  false, false},
	{false, false, false, PILLAR, false,  false, false},
	{false, false, false, PILLAR, false,  false, false},
	{false, false, false, PILLAR, false,  false, false},
	{false, false, false, PILLAR, false,  false, false},
}

--techage.register_entry_page("ta3", "power_station",
techage.register_category_page("ta4wt",
	S("TA4: Wind Turbine"), 
	S("Build a Wind Turbine according to the plan with TA4 Wind Turbine, TA4 Wind Turbine Nacelle and@n"..
		"a pillar by means of TA4 Pillar nodes (power cables have to be inside).@n"..
		"Please note the following limitations:@n"..
		"- pillar height between 10 and 19 m@n"..
		"- can only be built offshore (20 m in all 4 directions is water)@n"..
		"- more than 14 m to the next wind turbine@n"..
		"- the wind blows only between 5 and 9 o'clock and between 17 and 21 o'clock"), 
	nil, 
	{},
	Images)
.


techage.register_category_page("ta", "Further nodes and tools",
	S("This is a collection of further nodes and tools which do not fit to the stages 1 to 4."),
	"techage:end_wrench", {"end_wrench", "powerswitch", "trowel", "blackhole", "forceload", "doorblock", "gateblock"}
)

techage.register_entry_page("ta", "powerswitch",
	S("TA Power Switch"), 
	S("To turn electrical power on/off.@n"..
		"Has to be placed on a TA Power Switch Box."), 
	"techage:powerswitch")

techage.register_entry_page("ta", "trowel",
	S("TechAge Trowel"), 
	S("Tool to hide and retrieve electrical wiring in walls and floors.@n"..
		"The material for hiding the cables must be in the left stack of the first row in the player inventory."), 
	"techage:trowel").

techage.register_entry_page("ta4es", "ta4_generator", 
	S("TA4 Generator"), 
	S("Part of TA4 Energy Systems. Has to be placed side by side with the TA4 Turbine. "..
		"Connect the Generator with your power network@n"), 
	"techage:ta4_generator")

techage.register_entry_page("ta4es", "turbine",
	S("TA4 Turbine"), 
	S("Part of TA4 Energy Systems. Has to be placed side by side with the TA4 Generator.@n"), 
	"techage:ta4_turbine")

techage.register_entry_page("ta3f", "booster",
	S("TA3 Booster"), 
	S("Part of the TA3 Industrial Furnace and further machines. Used to increase the air/gas pressure."), 
	"techage:ta3_booster")

techage.register_entry_page("ta3f", "firebox",
	S("TA3 Furnace Firebox"), 
	S("Part of the TA3 Industrial Furnace. Faster and more powerful than the standard furnace."), 
	"techage:furnace_firebox")

techage.register_entry_page("ta3f", "furnace",
	S("TA3 Furnace Top"), 
	S("Part of the TA3 Industrial Furnace. Faster and more powerful than the standard furnace."), 
	"techage:ta3_furnace_pas")

local HelpText = S("Build the Furnace with TA3 Furnace Firebox, TA3 Furnace Top, "..
	"and TA3 Booster according to the plan.@n"..
	"- Heat the Firebox with coal/charcoal/oil@n"..
	"- Power the Booster with electrical power.@n"..
	"- Select one of the possible outputs@n"..
	"- Connect the TA3 Furnace Top with your machines by means of tubes.@n"..
	"- Start the Furnace")

techage.register_entry_page("ta3l", "button",
	S("TA3 Button/Switch"), 
	S("The Button/Switch is used to send on/off commands to machines/nodes.@n"..
		"It can be configured as switch or as button with configurable cycle time from 2 to 32s)"),
	"techage:ta3_button_on")


techage.register_entry_page("ta3l", "cart_detector",
	S("TA3 Cart Detector"), 
	S("The Cart Detector sends a 'on' signal if a cart (Minecart) is nearby@n"..
		"In addition the node starts the cart again, if a 'on' signal is received.@n"),
	"techage:ta3_cartdetector_off")

techage.register_entry_page("ta3l", "detector",
	S("TA3 Detector"), 
	S("The Detector is a special kind of tube block that@n"..
		"outputs an event when items pass through.@n"..
		"It sends an 'on' when an item goes through,@n"..
		"followed by an 'off' event one second later.@n"..
		"After that it blocks further events for 8 seconds."),
	"techage:ta3_detector_on")

techage.register_entry_page("ta3l", "logic",
	S("TA3 Logic Block"), 
	S("The Logic Block is used to combine one or several input signals@n"..
		"by means of a boolean expression into one output signal,@n"..
		"like 'n123 and n345', 'not n123', or simply 'inp'.@n"..
		"The then-part and the else-part are used to set the output.@n"..
		"true means 'on', false means 'off', nothing means send nothing."),
	"techage:ta3_logic")

techage.register_entry_page("ta3l", "node_detector",
	S("TA3 Node Detector"), 
	S("The Node Detector sends an 'on' signal when it detects that nodes appear@n"..
		"or disappear, but has to be configured accordingly.@n"..
        "After the node switches back to the default state (grey block)@n"..
		"an 'off' signal will be sent.@n"..
		"Valid nodes are all kind of blocks and plants.@n"..
		"The sensor range is 3 nodes/meters in the arrow direction."),
	"techage:ta3_nodedetector_on")


techage.register_entry_page("ta3l", "player_detector",
	S("TA3 Player Detector"), 
	S("The Player Detector sends a 'on' signal when it detects a player@n"..
		"within a radius of 4 m around the node.@n"..
		"The detector can be configured with player names to scan for."),
	"techage:ta3_playerdetector_off")

techage.register_entry_page("ta3l", "programmer",
	S("Techage Programmer"), 
	S("The Programmer is a tool to collect block numbers (right mouse button)@n"..
		"from machines/nodes to program (left mouse button) the Repeater@n"..
		"or other nodes. This is especially useful if you want to switch on/off@n"..
		"many block at the same time."),
	"techage:programmer")

techage.register_entry_page("ta3l", "repeater",
	S("TA3 Repeater"), 
	S("The Repeater is a multiplier block, sending received commands@n"..
		"to all connected blocks. The list of destination block numbers@n"..
		"has to be configured, but can easily programmed@n"..
		"by means of the Programmer."),
	"techage:ta3_repeater")

techage.register_entry_page("ta3l", "sequencer",
	S("TA3 Sequencer"), 
	S("The Sequencer block allows to define sequences of on/off commands@n"..
		"with time delays in between. A sequence of up to 8 steps@n"..
		"can be programmed, each with destination block numbers, on/off command,@n"..
		"and time gap to the next step in seconds. The Sequencer can run endless@n"..
		"or only once and can be switches on/off by other blocks."),
	"techage:ta3_sequencer")

techage.register_entry_page("ta3l", "terminal",
	S("TA3 Terminal"), 
	S("The Terminal is used to send commands to machines and output their responses.@n"..
		"In order to not always have to enter commands, commands can be assigned to buttons@n"..
		"and with a double-click on a text line, the command is copied into the input field, again.@n"..
		"The terminal has a help command with further information to the supported commands."),
	"techage:terminal2")

techage.register_entry_page("ta3l", "timer",
	S("TA3 Timer"), 
	S("The Timer block allows to turn machines/nodes on and off@n"..
		"based on the day time."),
	"techage:ta3_timer")

techage.register_entry_page("ta2", "boiler1",
	S("TA2 Boiler Base"), 
	S("Part of the steam engine. Has to be placed on top of the Firebox and filled with water.@n"..
	"(see Steam Engine)"), "techage:boiler1")

techage.register_entry_page("ta2", "boiler2",
	S("TA2 Boiler Top"), 
	S("Part of the steam engine. Has to be placed on top of TA2 Boiler Base.@n(see Steam Engine)"), 
	"techage:boiler2")

local S = techage.S

local HelpText = S("Build a steam engine according to the plan with TA2 Firebox, TA2 Boiler, Steam Pipes, TA2 Cylinder and TA2 Flywheel.@n"..
	"- Heat the Firebox with coal/charcoal@n"..
	"- Fill the boiler with water (more than one bucket is needed)@n"..
	"- Wait until the water is heated@n"..
	"- Open the steam ventil@n"..
	"- Start the Flywheel@n"..
	"- Connect the Flywheel with your machines by means of Axles and Gearboxes")

local Images = {
	
	{false, false, false, false, false, false, false},
	{false, false, false, false, false, false, false},
	{false, false, "techage_steam_knee.png", 'techage_steam_pipe.png', "techage_steam_knee.png^[transformR270"},
	{false, false, "techage:boiler2", false, 'techage_steam_pipe.png^[transformR90'},
	{false, false, "techage:boiler1", false, 'techage_steam_pipe.png^[transformR90'},
	{false, false, "techage_firebox.png^techage_appl_firehole.png^techage_frame_ta2.png", false, 
		"techage_steam_knee.png^[transformR90", 
		"techage_filling_ta2.png^techage_cylinder.png^techage_frame_ta2.png", 
		"techage_filling_ta2.png^techage_frame_ta2.png^techage_flywheel.png^[transformFX]"},
}

techage.register_entry_page("ta2", "steam_engine",
	S("Steam Engine"), HelpText, nil, Images)

techage.register_entry_page("ta2", "cylinder",
	S("TA2 Cylinder"), 
	S("Part of the steam engine. Has to be placed side by side with the TA2 Flywheel.@n"..
		"(see Steam Engine)"), 
	"techage:cylinder")

techage.register_entry_page("ta2", "flywheel",
	S("TA2 Flywheel"), 
	S("Part of the steam engine. Has to be placed side by side with the TA2 Cylinder.@n"..
		"Used to turn on/off the steam engine. Connect the Flywheel with your TA2 machines "..
		"by means of Axles and Gearboxes.@n"..
		"(see Steam Engine)"), "techage:flywheel")

techage.register_entry_page("ta", "end_wrench",
	S("TechAge Info Tool"), 
	S("The TechAge Info Tool is a tool to read any kind of status information from nodes providing a command interface.@n"..
		"Click on the node to read the status"), 
	"techage:end_wrench")
		
techage.register_entry_page("ta", "trowel",
	S("TechAge Trowel"), 
	S("Tool to hide and retrieve electrical wiring in walls and floors.@n"..
		"The material for hiding the cables must be in the left stack of the first row in the player inventory."), 
	"techage:trowel")

techage.register_entry_page("ta", "doorblock",
	S("Techage Door Block"), 
	S("The Door Block can disappear by means of commands from a button or switch.@n"..
	"It is commonly used to build larger gates. All Door Blocks@n"..
	"obtain a unique number which is shown as block infotext.@n"..
	"This number is used as destination address for commands.@n"..
	"The texture of the Door Block can be configured after@n"..
	"placement with the right mouse button."),
	"techage:doorblock"..NUM_TEXTURES)

techage.register_entry_page("ta", "gateblock",
	S("Techage Gate Block"), 
	S("The Gate Block can disappear by means of commands from a button or switch.@n"..
	"It is commonly used to build larger gates. All Gate Blocks@n"..
	"obtain a unique number which is shown as block infotext.@n"..
	"This number is used as destination address for commands.@n"..
	"The texture of the Gate Block can be configured after@n"..
	"placement with the right mouse button."),
	"techage:gateblock"..NUM_TEXTURES)

--minetest.register_on_joinplayer(function(player)
--	minetest.after(2, function(name)
--	minetest.show_formspec(name, "test:formspec",
--		"size[6,4]"..
--		"textarea[0.5,1;6,3;;"..
--		"This is a grey text line.\n"..
--		"\027(c@#FF0000)This\194\160\027(c@#00FF00)is\194\160\027(c@#0000FF)a\194\160\027(c@#FF00FF)colored\194\160\027(c@#FFFF00)text\194\160\027(c@#00FFFF)line."..
--		";]")
--   end, player:get_player_name())
--end)

techage.register_entry_page("ta3op", "drillbox",
	S("TA3 Oil Drill Box"), 
	S("The box automatically unfolds to a derrick when you press the button.@n"..
		"1: Place the box in the middle of the marked position@n"..
		"    (the derrick requires a free area of 3x3m)@n"..
		"2: Press the build button@n"..
		"3: Supply the drill with electricity@n"..
		"4: Supply the drill with Drill Bits@n"..
		"5: Press the start button@n"..
		"6: Remove the excavated material with Tubes/Pusher@n"..
		"7: The drill stops when oil is found@n"..
		"    (drill speed is 1m/16s)@n"..
		"8: Replace the drill with the Pumpjack.@n"..
		"It needs 16 units electrical power"), 
	node_name_ta3)

techage.register_entry_page("ta3ps", "tiny_generator",
	S("TA3 Tiny Power Generator"), 
	S("Small electrical power generator. Needs oil as fuel.@n"..
		"It provides 12 units electrical power@n"..
		"Oil burn time: 100s"), 
	"techage:tiny_generator")

techage.register_entry_page("ta3op", "pumpjack",
	S("TA3 Oil Pumpjack"), 
	S("The Pumpjack works similar to a pusher. It pumps one oil item every 8 seconds. It needs 16 units of electrical power."), 
	"techage:ta3_pumpjack_pas")

techage.register_entry_page("ta3op", "oilexplorer",
	S("TA3 Oil Explorer"), 
	S("Used to find oil (petroleum). Oil can be used as fuel for the Power Station and others. "..
		"Place the block and right-click on the block to explore the underground. "..
		"The block will explore a 16x16 field with a depth of up to 400 m. "..
		"To search deeper, click the block several times. "..
		"When oil is found, the position for the derrick (Drill Box) is highlighted.@n"..
		"Hint: Mark and protect the position for later use."), 
	"techage:oilexplorer")


